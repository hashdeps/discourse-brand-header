<script>
  const desktopRenderInterval = setInterval(() => {
    if (document.getElementById("main-outlet")) {
      document.getElementById("main-outlet").insertAdjacentHTML(
        "beforebegin",
        `<div class="learning-hash-banner">
          <div class="wrap">
  <div class="container desktop"><span class="learn-styles">LEARN HASH</span>
  <a class="" href="https://hash.ai/docs"><span>Documentation</span></a>
  <a class="" href="https://hash.ai/glossary"><span>Glossary</span></a><a class="active-case" href="https://community.hash.ai/"><span>Support Forum</span></a>
  <a target="blank" class="" href="https://hash.ai/discord"><span>Discord<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 6.75v10.5h10.5V12h1.5v5.25c0 .825-.675 1.5-1.5 1.5H6.75a1.5 1.5 0 0 1-1.5-1.5V6.75a1.5 1.5 0 0 1 1.5-1.5H12v1.5H6.75zm6.75 0v-1.5h5.25v5.25h-1.5V7.808L9.877 15.18 8.82 14.123l7.372-7.373H13.5z" fill="#000"></path></svg></span></a></div>
  </div>
  </div>`
      );

      clearInterval(desktopRenderInterval);

      if (document.querySelector("body").scrollWidth <= 900) {
        location.href = `${location.href.split("?")[0]}?mobile_view=1`;
      }
    }
  }, 100);

  const desktopAuthInterval = setInterval(() => {
    if (document.getElementById("hash-signin-links")) {
      const user = Discourse.currentUser;

      if (!user) {
        document
          .getElementById("hash-signin-links")
          .classList.remove("no-display");

        document.querySelector("#hash-signin-links #signup").href = `${
          document.querySelector("#hash-signin-links #signup").href
        }?redirect=${location.href}`;

        document.querySelector("#hash-signin-links #login").href = `${
          document.querySelector("#hash-signin-links #login").href
        }?redirect=${location.href}`;
      }

      clearInterval(desktopAuthInterval);
    }
  }, 100);
</script>
